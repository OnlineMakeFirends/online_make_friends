<!DOCTYPE html>
<html  xmlns="http://www.w3.org/1999/xhtml"
       xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="refresh">
    <title>注册</title>
    <script src="http://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <script>
        function resetForm()
        {
            $(':input', '#myForm')
            .not(':button, :submit, :reset, :hidden,:radio') // 去除不需要重置的input类型
            .val('')
            .removeAttr('text');
        }
    </script>
    <style type="text/css">
        body{//清除样式,设置字体和背景
            margin: 0;
            padding: 0;
            font-family: sans-serif;
            background: #34495e;
        }
        .box{
            color: white;
            width: 300px;
            padding: 40px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            background: #191919;
            text-align: center;
        }
        .box h1{
            color: white;
            text-transform: uppercase;
            font-weight: 500;
        }
        .box input[type ="text"],.box input[type="password"]{
            border: 0;
            background: none;
            display: block;
            margin: 20px auto;
            text-align: center;
            border: 2px solid #3498db;
            padding: 14px 10px;
            width: 200px;
            outline: none;
            color: white;
            border-radius: 24px;
            transition: 0.25s;
        }
        .box input[type ="text"]:focus,.box input[type="password"]:focus {
            width: 280px;
            border-color: #2ecc71;
        }
        .box input[type="reset"],.box input[type="submit"]{
            border: 0;
            background: none;
            display: block;
            margin: 20px auto;
            float: left;
            text-align: center;
            border: 2px solid #2ecc71;
            padding: 14px 30px;
            outline: none;
            color: white;
            border-radius: 24px;
            transition: 0.25s;
            cursor: pointer;
        }
        .box input[type="button"]{
            border: 0;
            background: none;
            display: block;
            margin: 20px auto;
            float: right;
            text-align: center;
            border: 2px solid #2ecc71;
            padding: 14px 30px;
            outline: none;
            color: white;
            border-radius: 24px;
            transition: 0.25s;
            cursor: pointer;
        }
        .box input[type="button"]:hover, .box input[type="submit"]:hover{
            background:#2ecc71 ;
        }
        .box input[type="reset"]:hover{
            background:#2ecc71 ;
        }
        .box span{
            color:red;
        }
        #errmsg{
            display: none;
            color: red;
        }
    </style>

</head>
<body>


<div id="app">
    <form id="myForm" class="box"  method="POST" th:object="${user}" th:action="@{/regist_submit2}">

        <!-- 验证失败 -->
        <div th:if="${#fields.hasErrors()}">
            <span class="validationError">
            </span>
        </div>

        <div th:switch="${result.code}">
            <!-- 注册失败显示出错信息：用户已被注册 -->
            <span th:case="302" th:text="${result.msg}"></span>
            <!-- 注册成功弹窗提示并跳转 -->
            <div th:case="200">
                <script>
                    alert("注册成功！");
                    window.location.href="/login";
                </script>
            </div>
        </div>


        <h1>注册</h1>
        <h2>用户名</h2>
        <input type="text" th:field="*{name}" id="username" placeholder="Enter the Username">
        <span color="red"  class="validationError" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>

        <br />

        <h2>密码</h2>
        <input type="password" th:field="*{passwd}" id="password" placeholder="Enter the Password">
        <span class="validationError" th:if="${#fields.hasErrors('passwd')}" th:errors="*{passwd}"></span>

        <br />

        <input type="submit" id="btnSignin"  value="注册">
        <input type="button" onclick="resetForm()" value="重置">
        <br />
    </form>
</div>
<div id="errmsg" ></div>

</body>
</html>